name: Keep simulator alive

on:
  schedule:
    - cron: "*/5 * * * *"   # every 5 minutes
  workflow_dispatch:

permissions:
  contents: read

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Curl simulator /health
        run: |
          if [ -z "${{ secrets.SIMULATOR_URL }}" ]; then
            echo "Set SIMULATOR_URL secret to your simulator base URL (e.g., https://simulator-xyz.onrender.com)"
            exit 1
          fi
          curl -fsS "${{ secrets.SIMULATOR_URL }}/health" || exit 1
